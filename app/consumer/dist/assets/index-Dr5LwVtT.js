const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-CksAg3GM.js","assets/react-vendor-DQcjAbTS.js","assets/Home-CtJUN3ZJ.css","assets/ScanHub-DfhNiUlM.js","assets/zxing-Odk-4kqL.js","assets/useReducedMotion--ddu61Lm.js","assets/trust-score-BT4cMY15.js","assets/useAllergenProfile-DznOho4c.js","assets/ScanHub-BARraHT6.css","assets/Results-Be6z2mWz.js","assets/useScanHistory-C_Jdk5j4.js","assets/useScanHistory-DCxu6Wz7.css","assets/Results-pTwDvYUQ.css","assets/History-DT_m6pUL.js","assets/History-ssxSs91g.css","assets/Settings-L654ucOs.js","assets/Settings-rDmbDZEj.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(n,t,r)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,a=(e,n)=>{for(var t in n||(n={}))s.call(n,t)&&o(e,t,n[t]);if(r)for(var t of r(n))i.call(n,t)&&o(e,t,n[t]);return e},c=(e,r)=>n(e,t(r)),l=(e,n,t)=>new Promise((r,s)=>{var i=e=>{try{a(t.next(e))}catch(n){s(n)}},o=e=>{try{a(t.throw(e))}catch(n){s(n)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((t=t.apply(e,n)).next())});import{r as d,a as u,u as m,b as h,L as f,R as p,c as x,d as y,B as v}from"./react-vendor-DQcjAbTS.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)}).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();var _={exports:{}},g={},j=d,b=Symbol.for("react.element"),w=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,k=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function L(e,n,t){var r,s={},i=null,o=null;for(r in void 0!==t&&(i=""+t),void 0!==n.key&&(i=""+n.key),void 0!==n.ref&&(o=n.ref),n)E.call(n,r)&&!N.hasOwnProperty(r)&&(s[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===s[r]&&(s[r]=n[r]);return{$$typeof:b,type:e,key:i,ref:o,props:s,_owner:k.current}}g.Fragment=w,g.jsx=L,g.jsxs=L,_.exports=g;var S=_.exports,O={},T=u;O.createRoot=T.createRoot,O.hydrateRoot=T.hydrateRoot;const R={},C=function(e,n,t){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(n.map(e=>{if((e=function(e){return"/"+e}(e))in R)return;R[e]=!0;const n=e.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=n?"stylesheet":"modulepreload",n||(s.as="script"),s.crossOrigin="",s.href=e,t&&s.setAttribute("nonce",t),document.head.appendChild(s),n?new Promise((n,t)=>{s.addEventListener("load",n),s.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=e,window.dispatchEvent(n),!n.defaultPrevented)throw e}return r.then(n=>{for(const e of n||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};function I(){const[e,n]=d.useState(navigator.onLine);return d.useEffect(()=>{function e(){n(!0)}function t(){n(!1)}return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),e}function M(){const e=m();var n;n=[{key:"s",action:()=>e("/scan"),description:"Go to Scan page"},{key:"h",action:()=>e("/history"),description:"Go to History page"}],d.useEffect(()=>{const e=e=>{if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))for(const t of n){const n=void 0===t.ctrlKey||t.ctrlKey===e.ctrlKey,r=void 0===t.shiftKey||t.shiftKey===e.shiftKey,s=void 0===t.altKey||t.altKey===e.altKey,i=t.key.toLowerCase()===e.key.toLowerCase();if(n&&r&&s&&i){e.preventDefault(),t.action();break}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n])}const P="claimlens_scan_queue";function z(e){const n=B(),t=c(a({},e),{id:`scan_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now(),status:"pending",retryCount:0});return n.push(t),A(n),t.id}function B(){try{const e=localStorage.getItem(P);return e?JSON.parse(e):[]}catch(e){return[]}}function A(e){try{localStorage.setItem(P,JSON.stringify(e))}catch(n){}}function D(e,n,t){const r=B(),s=r.find(n=>n.id===e);s&&(s.status=n,A(r))}function q(){return l(this,null,function*(){if(!navigator.onLine)return;const e=B().filter(e=>"pending"===e.status);if(0!==e.length){for(const t of e)try{D(t.id,"syncing");const e=yield fetch("/v1/consumer/scan",{method:"POST",headers:{"Content-Type":"application/json","X-Correlation-ID":t.id},body:JSON.stringify({input_type:t.inputType,input_data:t.inputData,locale:t.locale,allergen_profile:t.allergenProfile})});if(!e.ok)throw new Error(`API error: ${e.status}`);const n=yield e.json();D(t.id,"synced"),W(t.id,n)}catch(n){const e=B(),r=e.find(e=>e.id===t.id);r&&(r.retryCount++,r.retryCount>=3?(r.status="failed",r.error=n instanceof Error?n.message:"Unknown error"):r.status="pending",A(e))}!function(){const e=B(),n=Date.now(),t=864e5,r=e.filter(e=>"pending"===e.status||"syncing"===e.status||!("synced"===e.status&&n-e.timestamp>t)&&!("failed"===e.status&&n-e.timestamp>t));r.length!==e.length&&A(r)}()}})}function W(e,n){try{const t="claimlens_scan_history",r=localStorage.getItem(t),s=r?JSON.parse(r):[];s.unshift(c(a({},n),{id:e,timestamp:Date.now(),synced:!0})),s.length>50&&s.splice(50),localStorage.setItem(t,JSON.stringify(s))}catch(t){}}function $(){window.addEventListener("online",()=>{q()}),navigator.onLine&&q()}function H(){const[e,n]=d.useState([]),[t,r]=d.useState(0),[s,i]=d.useState(!1);function o(){const e=B();n(e),r(B().filter(e=>"pending"===e.status).length)}return d.useEffect(()=>{o(),$();const e=setInterval(o,5e3);return()=>clearInterval(e)},[]),{queue:e,pendingCount:t,isSyncing:s,sync:function(){return l(this,null,function*(){if(!s){i(!0);try{yield q(),o()}catch(e){}finally{i(!1)}}})},refresh:o}}const K="_container_awt5u_1",U="_content_awt5u_21",X="_icon_awt5u_47",F="_spinner_awt5u_61",V="_text_awt5u_109",J="_syncButton_awt5u_121";function Y(){const{pendingCount:e,isSyncing:n,sync:t}=H(),r=I();return 0===e?null:S.jsx("div",{className:K,role:"status","aria-live":"polite",children:S.jsxs("div",{className:U,children:[S.jsx("div",{className:X,children:n?S.jsx("svg",{className:F,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:S.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):S.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[S.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),S.jsx("path",{d:"M21 3v5h-5"}),S.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),S.jsx("path",{d:"M3 21v-5h5"})]})}),S.jsx("div",{className:V,children:n?S.jsxs("span",{children:["Syncing ",e," scan",1!==e?"s":"","..."]}):r?S.jsxs("span",{children:[e," scan",1!==e?"s":""," queued"]}):S.jsxs("span",{children:[e," scan",1!==e?"s":""," queued for sync"]})}),r&&!n&&S.jsx("button",{className:J,onClick:t,"aria-label":"Sync now",children:"Sync Now"})]})})}const G="_layout_iz3rx_1",Q="_offlineBanner_iz3rx_15",Z="_offlineIcon_iz3rx_47",ee="_header_iz3rx_59",ne="_headerContent_iz3rx_79",te="_logo_iz3rx_91",re="_main_iz3rx_131",se="_nav_iz3rx_147",ie="_navItem_iz3rx_181",oe="_navItemActive_iz3rx_225",ae="_navIcon_iz3rx_233";function ce({children:e}){const n=h(),t=I();!function(e={}){const{threshold:n=100,enabled:t=!0}=e,r=m(),s=d.useRef(0),i=d.useRef(0);d.useEffect(()=>{if(!t)return;const e=e=>{s.current=e.touches[0].clientX,i.current=e.touches[0].clientY},o=e=>{const t=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY,a=t-s.current,c=o-i.current;Math.abs(a)>Math.abs(c)&&a>n&&r(-1)};return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",o,{passive:!0}),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchend",o)}},[t,n,r])}({enabled:!0,threshold:100}),M();const r=e=>n.pathname===e;return S.jsxs("div",{className:G,children:[S.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),!t&&S.jsxs("div",{className:Q,role:"alert","aria-live":"polite",children:[S.jsx("svg",{className:Z,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:S.jsx("path",{d:"M1 1l22 22M16.72 11.06A10.94 10.94 0 0 1 19 12.55M5 12.55a10.94 10.94 0 0 1 5.17-2.39M10.71 5.05A16 16 0 0 1 22.58 9M1.42 9a15.91 15.91 0 0 1 4.7-2.88M8.53 16.11a6 6 0 0 1 6.95 0M12 20h.01"})}),S.jsx("span",{children:"Offline mode - Some features unavailable"})]}),S.jsx("header",{className:ee,children:S.jsx("div",{className:ne,children:S.jsx("h1",{className:te,children:S.jsx(f,{to:"/",children:"ClaimLens Go"})})})}),S.jsx("main",{id:"main-content",className:re,children:e}),S.jsx(Y,{}),S.jsxs("nav",{className:se,role:"navigation","aria-label":"Main navigation",children:[S.jsxs(f,{to:"/scan",className:`${ie} ${r("/scan")?oe:""}`,"aria-current":r("/scan")?"page":void 0,children:[S.jsxs("svg",{className:ae,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[S.jsx("circle",{cx:"11",cy:"11",r:"8"}),S.jsx("path",{d:"m21 21-4.35-4.35"})]}),S.jsx("span",{children:"Scan"})]}),S.jsxs(f,{to:"/history",className:`${ie} ${r("/history")?oe:""}`,"aria-current":r("/history")?"page":void 0,children:[S.jsxs("svg",{className:ae,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[S.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),S.jsx("path",{d:"M3 3v5h5"}),S.jsx("path",{d:"M12 7v5l4 2"})]}),S.jsx("span",{children:"History"})]}),S.jsxs(f,{to:"/settings",className:`${ie} ${r("/settings")?oe:""}`,"aria-current":r("/settings")?"page":void 0,children:[S.jsxs("svg",{className:ae,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[S.jsx("circle",{cx:"12",cy:"12",r:"3"}),S.jsx("path",{d:"M12 1v6m0 6v6"}),S.jsx("path",{d:"m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"}),S.jsx("path",{d:"M1 12h6m6 0h6"}),S.jsx("path",{d:"m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"})]}),S.jsx("span",{children:"Settings"})]})]})]})}const le="_container_16vmc_1",de="_header_16vmc_11",ue="_content_16vmc_19",me="_skeletonLine_16vmc_31",he="_skeletonBox_16vmc_33",fe="_srOnly_16vmc_79";function pe(){return S.jsxs("div",{className:le,role:"status","aria-label":"Loading content",children:[S.jsxs("div",{className:de,children:[S.jsx("div",{className:me,style:{width:"60%"}}),S.jsx("div",{className:me,style:{width:"40%"}})]}),S.jsxs("div",{className:ue,children:[S.jsx("div",{className:he}),S.jsx("div",{className:me,style:{width:"80%"}}),S.jsx("div",{className:me,style:{width:"90%"}}),S.jsx("div",{className:me,style:{width:"70%"}})]}),S.jsx("span",{className:fe,children:"Loading..."})]})}const xe="_errorBoundary_1pq7x_1",ye="_errorCard_1pq7x_17",ve="_title_1pq7x_37",_e="_content_1pq7x_51",ge="_errorMessage_1pq7x_61",je="_description_1pq7x_83";class be extends d.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){}render(){return this.state.hasError?S.jsx("div",{className:xe,children:S.jsxs("div",{className:ye,children:[S.jsx("h2",{className:ve,children:this.props.fallbackTitle||"This view is loading demo data"}),S.jsxs("div",{className:_e,children:[this.state.error&&S.jsx("p",{className:ge,children:this.state.error.message}),S.jsx("p",{className:je,children:"This demo environment is still loading. Try refreshing the page."})]})]})}):this.props.children}}const we=d.lazy(()=>C(()=>import("./Home-CksAg3GM.js"),__vite__mapDeps([0,1,2]))),Ee=d.lazy(()=>C(()=>import("./ScanHub-DfhNiUlM.js"),__vite__mapDeps([3,1,4,5,6,7,8]))),ke=d.lazy(()=>C(()=>import("./Results-Be6z2mWz.js"),__vite__mapDeps([9,1,6,7,10,11,5,12]))),Ne=d.lazy(()=>C(()=>import("./History-DT_m6pUL.js"),__vite__mapDeps([13,1,10,11,6,14]))),Le=d.lazy(()=>C(()=>import("./Settings-L654ucOs.js"),__vite__mapDeps([15,1,7,16])));function Se(){return S.jsx(ce,{children:S.jsx(d.Suspense,{fallback:S.jsx(pe,{}),children:S.jsxs(p,{children:[S.jsx(x,{path:"/",element:S.jsx(be,{fallbackTitle:"Home is loading",children:S.jsx(we,{})})}),S.jsx(x,{path:"/scan",element:S.jsx(be,{fallbackTitle:"Scanner is loading",children:S.jsx(Ee,{})})}),S.jsx(x,{path:"/results",element:S.jsx(be,{fallbackTitle:"Results are loading",children:S.jsx(ke,{})})}),S.jsx(x,{path:"/history",element:S.jsx(be,{fallbackTitle:"History is loading",children:S.jsx(Ne,{})})}),S.jsx(x,{path:"/settings",element:S.jsx(be,{fallbackTitle:"Settings are loading",children:S.jsx(Le,{})})})]})})})}O.createRoot(document.getElementById("root")).render(S.jsx(y.StrictMode,{children:S.jsx(v,{children:S.jsx(Se,{})})})),function(){if(!("serviceWorker"in navigator))return;const e=function(e={}){const{immediate:n=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let a,c;return c=function(){return l(this,null,function*(){if("serviceWorker"in navigator){if(a=yield C(()=>l(this,null,function*(){const{Workbox:e}=yield import("./workbox-window.prod.es5-DMXp7Fa7.js");return{Workbox:e}}),[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{null==o||o(e)}),!a)return;a.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),a.addEventListener("installed",e=>{e.isUpdate||null==r||r()}),a.register({immediate:n}).then(e=>{i?i("/sw.js",e):null==s||s(e)}).catch(e=>{null==o||o(e)})}})}(),(e=!0)=>l(this,null,function*(){yield c})}({immediate:!0,onNeedRefresh(){!function(e){const n=document.createElement("div");n.id="sw-update-notification",n.style.cssText="\n    position: fixed;\n    bottom: 1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(15, 22, 40, 0.95);\n    backdrop-filter: blur(12px);\n    border: 1px solid rgba(20, 241, 149, 0.2);\n    border-radius: 0.75rem;\n    padding: 1rem 1.5rem;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    max-width: 90%;\n    animation: slideUp 0.3s ease-out;\n  ",n.innerHTML='\n    <style>\n      @keyframes slideUp {\n        from {\n          transform: translateX(-50%) translateY(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(-50%) translateY(0);\n          opacity: 1;\n        }\n      }\n    </style>\n    <div style="color: #E5E7EB; font-size: 0.875rem; flex: 1;">\n      New version available\n    </div>\n    <button id="sw-update-btn" style="\n      background: #14F195;\n      color: #0B1220;\n      border: none;\n      padding: 0.5rem 1rem;\n      border-radius: 0.5rem;\n      font-weight: 600;\n      font-size: 0.875rem;\n      cursor: pointer;\n      transition: opacity 0.2s;\n    ">\n      Update\n    </button>\n    <button id="sw-dismiss-btn" style="\n      background: transparent;\n      color: #9CA3AF;\n      border: none;\n      padding: 0.5rem;\n      cursor: pointer;\n      font-size: 1.25rem;\n      line-height: 1;\n    ">\n      ×\n    </button>\n  ',document.body.appendChild(n);const t=document.getElementById("sw-update-btn");null==t||t.addEventListener("click",()=>{e(!0)});const r=document.getElementById("sw-dismiss-btn");null==r||r.addEventListener("click",()=>{n.remove()}),setTimeout(()=>{n.parentNode&&n.remove()},3e4)}(e)},onOfflineReady(){!function(){const e=document.createElement("div");e.id="sw-offline-notification",e.style.cssText="\n    position: fixed;\n    bottom: 1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    background: rgba(15, 22, 40, 0.95);\n    backdrop-filter: blur(12px);\n    border: 1px solid rgba(16, 185, 129, 0.2);\n    border-radius: 0.75rem;\n    padding: 1rem 1.5rem;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    max-width: 90%;\n    animation: slideUp 0.3s ease-out;\n  ",e.innerHTML='\n    <div style="color: #10B981; font-size: 1.25rem;">✓</div>\n    <div style="color: #E5E7EB; font-size: 0.875rem; flex: 1;">\n      App ready to work offline\n    </div>\n    <button id="sw-offline-dismiss-btn" style="\n      background: transparent;\n      color: #9CA3AF;\n      border: none;\n      padding: 0.5rem;\n      cursor: pointer;\n      font-size: 1.25rem;\n      line-height: 1;\n    ">\n      ×\n    </button>\n  ',document.body.appendChild(e);const n=document.getElementById("sw-offline-dismiss-btn");null==n||n.addEventListener("click",()=>{e.remove()}),setTimeout(()=>{e.parentNode&&e.remove()},5e3)}()},onRegistered(e){},onRegisterError(e){}});setInterval(()=>{e(!0)},36e5)}(),$();export{S as j,z as q,I as u};
