/* Import design tokens */
@import './design-tokens.css';

/* Consumer-specific styles */

#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Mobile-first responsive utilities */
@media (max-width: 640px) {
  body {
    font-size: var(--text-sm);
  }
}

/* Touch target minimum size for mobile (WCAG 2.5.5) */
button,
a,
input[type="checkbox"],
input[type="radio"] {
  min-height: 44px;
  min-width: 44px;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Mobile viewport optimization */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific fixes */
  body {
    min-height: -webkit-fill-available;
  }
}

/* Optimize for iPhone SE (375px) and Pixel 5 (393px) */
@media (max-width: 375px) {
  :root {
    --space-4: 0.875rem;
    --space-6: 1.25rem;
  }
}

/* Performance: Use system fonts for faster loading */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimize image rendering */
img {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Prevent text size adjustment on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  body {
    padding-left: max(0px, env(safe-area-inset-left));
    padding-right: max(0px, env(safe-area-inset-right));
  }
}


/* ============================================
   KIROWEEN VISUAL POLISH: Grain Texture
   ============================================ */

/* Subtle grain overlay for premium haunted feel */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /></filter><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.03" /></svg>');
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
}

@media (prefers-reduced-motion: reduce) {
  body::before {
    display: none;
  }
}

/* ============================================
   KIROWEEN VISUAL ENHANCEMENTS
   Premium "Haunted Lens" aesthetic
   ============================================ */

/* 1. SUBTLE GRAIN TEXTURE OVERLAY */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23noise)" opacity="0.4"/></svg>');
  background-repeat: repeat;
}

/* 2. FOG/MIST VIGNETTE EFFECT */
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9998;
  background: radial-gradient(
    ellipse at 50% 50%,
    transparent 0%,
    transparent 50%,
    rgba(11, 18, 32, 0.4) 100%
  );
}

/* 3. GRADIENT TEXT FOR H1 HEADINGS */
h1, .kw-gradient-text {
  background: linear-gradient(
    135deg,
    #14B8A6 0%,
    #2DD4BF 50%,
    #14B8A6 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% 200%;
  animation: kw-gradient-shift 8s ease-in-out infinite;
}

@keyframes kw-gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* 4. GLOW EFFECTS ON HOVER FOR CARDS */
.kw-hover-glow {
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}

.kw-hover-glow:hover {
  box-shadow: 0 0 20px rgba(20, 184, 166, 0.3), 0 8px 32px rgba(0, 0, 0, 0.3);
  transform: translateY(-2px);
}

/* 5. TEAL GLOW ON BUTTONS */
button:not([disabled]):hover,
.btn-primary:hover,
[class*="analyzeButton"]:hover,
[class*="scanButton"]:hover {
  box-shadow: 0 0 20px rgba(20, 184, 166, 0.4) !important;
}

/* 6. SPECTRAL PULSE ANIMATION (for scanning states) */
@keyframes kw-spectral-pulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(20, 184, 166, 0.2);
  }
  50% {
    box-shadow: 0 0 40px rgba(20, 184, 166, 0.5);
  }
}

.kw-pulse {
  animation: kw-spectral-pulse 1.5s ease-in-out infinite;
}

/* 7. EMBER GLOW FOR WARNING STATES */
.kw-ember-glow {
  box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
}

/* 8. DANGER GLOW FOR AVOID STATES */
.kw-danger-glow {
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
}

/* 9. CARD HOVER ENHANCEMENT */
[class*="Card"]:hover,
[class*="card"]:hover {
  border-color: rgba(20, 184, 166, 0.3);
  box-shadow: 
    0 0 20px rgba(20, 184, 166, 0.15),
    0 8px 32px rgba(0, 0, 0, 0.2);
}

/* 10. FOCUS GLOW FOR ACCESSIBILITY */
*:focus-visible {
  outline: 2px solid #14B8A6;
  outline-offset: 2px;
  box-shadow: 0 0 12px rgba(20, 184, 166, 0.4);
}

/* REDUCED MOTION: Disable all Kiroween effects */
@media (prefers-reduced-motion: reduce) {
  body::before,
  body::after {
    display: none;
  }
  
  h1, .kw-gradient-text {
    animation: none;
    background: none;
    -webkit-text-fill-color: var(--color-cloud, #F8FAFC);
    color: var(--color-cloud, #F8FAFC);
  }
  
  .kw-hover-glow:hover,
  .kw-pulse {
    animation: none;
    transform: none;
  }
  
  button:not([disabled]):hover,
  .btn-primary:hover,
  [class*="analyzeButton"]:hover,
  [class*="scanButton"]:hover,
  [class*="Card"]:hover,
  [class*="card"]:hover {
    box-shadow: none !important;
  }
}

/* REDUCED TRANSPARENCY: Simplify overlays */
@media (prefers-reduced-transparency: reduce) {
  body::before,
  body::after {
    display: none;
  }
}
